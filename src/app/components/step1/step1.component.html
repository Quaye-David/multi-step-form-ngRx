<div class="personal-info">
  <div class="personal-info__container">
    <div>
      <span class="personal-info__title">Personal info</span>
      <p class="personal-info__description">
        Please provide your name, email address, and phone number.
      </p>
    </div>

    <form [formGroup]="personalForm" class="personal-info__form">
      @for (field of formFields; track field.name) {
        <div class="form-field">
          <div class="form-field__header">
            <label [for]="field.name" class="form-field__label">{{field.label}}</label>
            @if (personalForm.get(field.name)?.invalid &&
                (personalForm.get(field.name)?.touched || formSubmitted)) {
              <span class="form-field__error">
                {{getFieldErrors(field.name)[0]}}
              </span>
            }
          </div>
          <input
            [id]="field.name"
            [type]="field.type"
            [formControlName]="field.name"
            class="form-field__input"
            [class.ng-invalid]="personalForm.get(field.name)?.invalid"
            [class.ng-touched]="personalForm.get(field.name)?.touched"
            [placeholder]="field.placeholder">
        </div>
      }
    </form>
  </div>
  <app-navigation-buttons
    [showNextButton]="true"
    (onNext)="goNext()"
  />
</div>